<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ðŸ”¥ FLAMES Test</title>

<style>
*{box-sizing:border-box}

body{
  margin:0;
  height:100vh;
  font-family:system-ui,-apple-system,sans-serif;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  transition:background .6s;
}

/* Floating hearts */
.heart{
  position:absolute;
  bottom:-20px;
  font-size:18px;
  opacity:.8;
  animation:floatUp linear infinite;
}
@keyframes floatUp{
  to{transform:translateY(-120vh);opacity:0}
}

.card{
  background:#fff;
  padding:32px;
  border-radius:22px;
  width:92%;
  max-width:480px;
  text-align:center;
  box-shadow:0 25px 50px rgba(0,0,0,.25);
  z-index:2;
}

h1{margin-bottom:12px}

input{
  width:100%;
  padding:14px;
  margin-bottom:10px;
  border-radius:10px;
  border:1px solid #ddd;
  font-size:15px;
}

button{
  padding:14px 28px;
  border-radius:999px;
  border:none;
  font-size:15px;
  font-weight:600;
  background:#ff4d6d;
  color:#fff;
  cursor:pointer;
  margin-top:10px;
}

button.secondary{
  background:#111827;
  margin:8px;
}

.row{margin-top:12px}

.letter{
  display:inline-block;
  padding:6px 10px;
  margin:4px;
  border-radius:8px;
  background:#f3f4f6;
  font-weight:600;
}

.strike{
  background:#fecaca;
  text-decoration:line-through;
}

.flames span{
  display:inline-block;
  padding:10px 14px;
  margin:6px;
  border-radius:10px;
  background:#e5e7eb;
  font-weight:700;
  transition:.35s;
}

.flames .out{
  opacity:.35;
  text-decoration:line-through;
}

.flames .final{
  border:3px solid #ff4d6d;
  background:#ffe4e6;
}

#status,#count{margin-top:12px;font-weight:600}
#result{
  margin-top:18px;
  font-size:20px;
  font-weight:700;
  display:none;
}
#history{
  margin-top:10px;
  font-size:14px;
  color:#374151;
}
#actions{display:none;margin-top:12px}
</style>
</head>

<body>

<div class="card">
  <h1>ðŸ”¥ FLAMES Test</h1>

  <div id="form">
    <input id="n1" placeholder="Your Name">
    <input id="n2" placeholder="Partner Name">
    <button onclick="start()">Check Relationship ðŸ’–</button>
  </div>

  <div id="status"></div>
  <div class="row" id="row1"></div>
  <div class="row" id="row2"></div>
  <div id="count"></div>

  <div id="flames" class="flames"></div>

  <div id="result"></div>
  <div id="history"></div>

  <div id="actions">
    <button class="secondary" onclick="share()">ðŸ“¤ Share</button>
    <button class="secondary" onclick="restart()">ðŸ”„ Restart</button>
  </div>
</div>

<script>
/* Floating hearts */
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.innerText="â¤ï¸";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=(4+Math.random()*3)+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),7000);
},600);

/* Globals */
const flamesLetters=["F","L","A","M","E","S"];
let flamesState=[],stepIndex=0,remaining=0;

/* Start */
function start(){
  const a=n1.value.trim().toLowerCase().replace(/\s/g,"").split("");
  const b=n2.value.trim().toLowerCase().replace(/\s/g,"").split("");
  if(!a.length||!b.length) return alert("Enter both names");

  form.style.display="none";
  status.innerText="Comparing namesâ€¦";

  row1.innerHTML=a.map(l=>`<span class="letter">${l}</span>`).join("");
  row2.innerHTML=b.map(l=>`<span class="letter">${l}</span>`).join("");

  setTimeout(()=>strikeCommon(a,b),800);
}

/* Strike common letters */
function strikeCommon(a,b){
  const r1=row1.children,r2=row2.children;
  a.forEach((l,i)=>{
    const j=b.indexOf(l);
    if(j>-1){
      r1[i].classList.add("strike");
      r2[j].classList.add("strike");
      a[i]="";b[j]="";
    }
  });

  remaining=a.join("").length+b.join("").length;
  count.innerText="Remaining letters count: "+remaining;

  initFlames();
  setTimeout(runFlames,700);
}

/* FLAMES init */
function initFlames(){
  flamesState=flamesLetters.map(l=>({l,out:false,final:false}));
  renderFlames();
}

/* Render */
function renderFlames(){
  flames.innerHTML=flamesState.map(f=>
    `<span class="${f.final?'final':f.out?'out':''}">${f.l}</span>`
  ).join("");
}

/* Run elimination */
function runFlames(){
  const active=flamesState.filter(f=>!f.out&&!f.final);

  if(active.length===1){
    active[0].final=true;
    renderFlames();
    setTimeout(()=>showResult(active[0].l),1000);
    return;
  }

  stepIndex=(stepIndex+remaining-1)%active.length;
  active[stepIndex].out=true;

  renderFlames();
  setTimeout(runFlames,700);
}

/* Result */
function showResult(l){
  const map={
    F:["ðŸ¤ Friends","#a1c4fd"],
    L:["â¤ï¸ Love","#ff9a9e"],
    A:["ðŸ¥° Affection","#fad0c4"],
    M:["ðŸ’ Marriage","#fbc2eb"],
    E:["ðŸ˜… Enemies","#cfd9df"],
    S:["ðŸ’ž Soulmates","#fddb92"]
  };

  document.body.style.background=`linear-gradient(135deg,${map[l][1]},#fff)`;
  result.innerText=map[l][0];
  result.style.display="block";

  localStorage.setItem("flamesLast",map[l][0]);
  history.innerText="Last result: "+map[l][0];
  actions.style.display="block";
}

/* Share */
function share(){
  navigator.clipboard.writeText("FLAMES Result: "+result.innerText);
  alert("Copied to clipboard ðŸ’–");
}

/* Restart */
function restart(){
  location.reload();
}

/* Load history */
window.onload=()=>{
  const last=localStorage.getItem("flamesLast");
  if(last) history.innerText="Last result: "+last;
};
</script>

</body>
</html>
