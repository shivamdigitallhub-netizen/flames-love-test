<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ”¥ FLAMES Test</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4);
  font-family: "Poppins", system-ui, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  transition: background 0.6s ease;
}

/* FLOATING HEARTS */
.float {
  position: absolute;
  bottom: -30px;
  font-size: 22px;
  opacity: .8;
  animation: rise linear infinite;
  pointer-events: none;
}
@keyframes rise {
  from { transform: translateY(0) scale(1); opacity:.9; }
  to { transform: translateY(-120vh) scale(1.4); opacity:0; }
}

/* CARD */
.card {
  background: #fff;
  padding: 34px;
  border-radius: 26px;
  width: 90%;
  max-width: 480px;
  text-align: center;
  box-shadow: 0 25px 50px rgba(0,0,0,.25);
  z-index: 10;
}

h1 { margin: 0 0 14px; }

input {
  width: 100%;
  padding: 14px;
  margin-bottom: 12px;
  border-radius: 12px;
  border: 1px solid #ddd;
  font-size: 15px;
}

button {
  padding: 14px 30px;
  border-radius: 999px;
  border: none;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  background: #ff4d6d;
  color: white;
  margin-top: 10px;
}
button.secondary {
  background: #111827;
  margin-top: 14px;
}

/* LETTERS */
.row { margin-top: 12px; }
.letter {
  display: inline-block;
  margin: 4px;
  padding: 6px 10px;
  border-radius: 8px;
  background: #f3f4f6;
  font-weight: 600;
}
.strike {
  text-decoration: line-through;
  background: #fecaca;
  color: #991b1b;
}

/* FLAMES */
.flames span {
  display: inline-block;
  margin: 6px;
  padding: 10px 14px;
  border-radius: 10px;
  background: #e5e7eb;
  font-weight: 700;
}
.flames .out {
  text-decoration: line-through;
  opacity: 0.4;
}
.flames .final {
  border: 3px solid #ff4d6d;
  background: #ffe4e6;
}

#status, #count { margin-top: 14px; font-weight: 600; }
#result { margin-top: 18px; font-size: 18px; font-weight: 700; display:none; }
#history { margin-top: 10px; font-size: 14px; color:#374151; }
</style>
</head>

<body>

<div class="card">
  <h1>ğŸ”¥ FLAMES Test</h1>

  <div id="form">
    <input id="name1" placeholder="Your Name">
    <input id="name2" placeholder="Partner Name">
    <button onclick="start()">Check Relationship ğŸ’–</button>
  </div>

  <div id="status"></div>
  <div class="row" id="row1"></div>
  <div class="row" id="row2"></div>
  <div id="count"></div>
  <div id="flames" class="flames"></div>
  <div id="result"></div>
  <div id="history"></div>

  <button class="secondary" id="share" onclick="share()" style="display:none;">ğŸ“¤ Share</button>
  <button class="secondary" id="reset" onclick="location.reload()" style="display:none;">ğŸ”„ Try Again</button>
</div>

<script>
/* FLOATING HEARTS */
setInterval(()=>spawn("â¤ï¸"),600);
function spawn(e){
  const el=document.createElement("div");
  el.className="float";
  el.innerText=e;
  el.style.left=Math.random()*100+"vw";
  el.style.animationDuration=(6+Math.random()*4)+"s";
  document.body.appendChild(el);
  setTimeout(()=>el.remove(),10000);
}

let a=[], b=[], remaining=0;
let flames=["F","L","A","M","E","S"];
let idx=0;

/* START */
function start(){
  const n1=name1.value.trim();
  const n2=name2.value.trim();
  if(!n1||!n2) return alert("Enter both names ğŸ’•");

  a=n1.toLowerCase().replace(/\s/g,"").split("");
  b=n2.toLowerCase().replace(/\s/g,"").split("");

  form.style.display="none";
  status.innerText="Showing lettersâ€¦";

  row1.innerHTML=a.map(l=>`<span class="letter">${l}</span>`).join("");
  row2.innerHTML=b.map(l=>`<span class="letter">${l}</span>`).join("");

  setTimeout(strikeCommon,6000);
}

/* STRIKE */
function strikeCommon(){
  status.innerText="Striking common lettersâ€¦";
  const r1=row1.children, r2=row2.children;

  a.forEach((l,i)=>{
    const j=b.indexOf(l);
    if(j>-1){
      r1[i].classList.add("strike");
      r2[j].classList.add("strike");
      a[i]=""; b[j]="";
    }
  });

  setTimeout(countLetters,6000);
}

/* COUNT */
function countLetters(){
  remaining=a.join("").length+b.join("").length;
  count.innerText=`Remaining letters count: ${remaining}`;
  status.innerText="Running FLAMES eliminationâ€¦";
  showFlames();
}

/* SHOW FLAMES */
function showFlames(){
  flamesBox();
  setTimeout(eliminateFlames,6000);
}

function flamesBox(){
  flames.innerHTML=flames.map(l=>`<span>${l}</span>`).join("");
}

/* ELIMINATION */
function eliminateFlames(){
  if(flames.length===1){
    finalize(flames[0]);
    return;
  }
  idx=(idx+remaining-1)%flames.length;
  flames.splice(idx,1);
  flamesBox();
  setTimeout(eliminateFlames,2000);
}

/* FINAL */
function finalize(letter){
  const map={
    F:["ğŸ¤ Friends","ğŸ¤","#a1c4fd"],
    L:["â¤ï¸ Love","â¤ï¸","#ff9a9e"],
    A:["ğŸ¥° Affection","ğŸ¥°","#fad0c4"],
    M:["ğŸ’ Marriage","ğŸ’","#fbc2eb"],
    E:["ğŸ˜… Enemies","ğŸ˜…","#cfd9df"],
    S:["ğŸ’ Soulmates","ğŸ’","#fddb92"]
  };

  document.body.style.background=
    `linear-gradient(135deg,${map[letter][2]},#fff)`;

  flames.innerHTML=`<span class="final">${letter}</span>`;
  result.style.display="block";
  result.innerText=map[letter][0];

  let burst=setInterval(()=>spawn(map[letter][1]),150);
  setTimeout(()=>clearInterval(burst),2000);

  localStorage.setItem("lastResult",map[letter][0]);
  history.innerText="Last result: "+map[letter][0];

  share.style.display="inline-block";
  reset.style.display="inline-block";
}

/* SHARE */
function share(){
  navigator.clipboard.writeText("FLAMES Result: "+result.innerText);
  alert("Result copied ğŸ’–");
}

/* LOAD HISTORY */
window.onload=()=>{
  const last=localStorage.getItem("lastResult");
  if(last) history.innerText="Last result: "+last;
};
</script>

</body>
</html>
